<!doctype html>
<html>

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>Animaci&oacute;n con setInterval</title>
    <style>
        #c {
            background: white;
            border: 1px solid #d9d9d9;
            display: block;
            margin: 0 auto;
        }

        h4,
        p {
            text-align: center;
        }
    </style>
</head>

<body>
    <h4>Ejemplo de animaci&oacute;n con setInterval()</h4>
    <p>Haz clic en el canvas para parar o reiniciar la animaci&oacute;n</p>
    <canvas id="c" width="500" height="300"></canvas>

    <script>

        var c = document.getElementById("c");
        var ctx = c.getContext("2d");
        var cw = c.width;
        var ch = c.height;

        var rad = Math.PI / 180;

        var angulo = 5; 
        var parado = true;
        var elId;

        ctx.strokeStyle = "#d16";
        ctx.fillStyle = "rgba(255,255,255,.1)";


        ctx.translate(cw / 2, ch / 2);

        ctx.strokeRect(-75, -75, 150, 150);

        function girar() {
            ctx.strokeRect(-75, -75, 150, 150)
            ctx.rotate(rad * angulo);
            ctx.fillRect(-cw / 2, -ch / 2, cw, ch);
        }



        function start() {
            elId = window.setInterval(function () { girar() }, 1000 / 60);
            parado = false;
        }
        function stopAnimacion() {
            if (elId) {
                window.clearInterval(elId);
            }
            parado = true;
        }


        window.addEventListener("load", start, false);
        c.addEventListener("click", function () { (parado == true) ? start() : stopAnimacion(); }, false)

    </script>
</body>

</html>